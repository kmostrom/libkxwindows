////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <kxwindows/ZImage.h>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

using namespace Gdiplus;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

ZImage::ZImage(void)
:	_pImage(NULL)
{
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

ZImage::ZImage(const WCHAR *pszFileName)
:	_pImage(NULL)
{
	LoadImage( pszFileName );
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

ZImage::~ZImage(void)
{
	Destroy( );
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void ZImage::Destroy(void)
{
	if( _pImage )
	{
		delete( _pImage );
		_pImage = NULL;
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void ZImage::LoadImage(const WCHAR *pszFileName)
{
	Destroy( );

	_pImage = new Image( pszFileName );
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void ZImage::Draw(HDC hDC, int iX, int iY)
{
	if( _pImage )
	{
		Graphics graphics( hDC );

		graphics.DrawImage( _pImage, iX, iY );
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
